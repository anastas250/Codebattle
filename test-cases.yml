---
- summary: |
    Успешная регистрация нового профиля
  requirement: |
    При верном заполнении всех полей регистрируется новый пользователь
  prerequisites: |
    Открыта страница регистрации
  test-data: |
    empty
  steps:
    - Заполняем поле "Nickname"
    - Заполняем поле "Email"
    - Заполняем поле "Password"
    - Заполняем поле "Password Confirmation"
    - Нажимаем кнопку "Submit"
  expected-result: |
    Пользователь авторизируется автоматически

- summary: |
    Неудачная регистрация нового профиля с пустыми полями
  requirement: |
    При отсутствии данных в полях регистрация невозможна
  prerequisites: |
    Открыта страница регистрации
  test-data: |
    empty
  steps:
    - Нажимаем кнопку "Submit"
  expected-result: |
    Под каждым полем выводится надпись, сообщающая о необходимости заполнить поле

- summary: |
    Неудачная регистрация нового профиля с уже зарегистрированным мейлом
  requirement: |
    При повторном использовании одного и того же мейла регистрация невозможна 
  prerequisites: |
    Открыта страница регистрации
  test-data: |
    Email = asdf.asdfghj.05@mail.ru
  steps:
    - Заполняем поле "Nickname"
    - Заполняем поле "Email"
    - Заполняем поле "Password"
    - Заполняем поле "Password Confirmation"
    - Нажимаем кнопку "Submit"
  expected-result: |
    Под полем "Email" появляется надпись "Email is already taken"

- summary: |
    Неудачная регистрация нового профиля с несуществующим мейлом
  requirement: |
    При введении несуществующего мейла регистрация невозможна 
  prerequisites: |
    Открыта страница регистрации
  test-data: |
    empty
  steps:
    - Заполняем поле "Nickname"
    - Заполняем поле "Email"
    - Заполняем поле "Password"
    - Заполняем поле "Password Confirmation"
    - Нажимаем кнопку "Submit"
  expected-result: |
    Регистрация не проходит

- summary: |
    Неудачная регистрация нового профиля с мейлом неправильного типа
  requirement: |
    При введении мейла, который не соответствует стандарту (abc@abc.ru) регистрация невозможна 
  prerequisites: |
    Открыта страница регистрации
  test-data: |
    Email = hexlet.ru
  steps:
    - Заполняем поле "Nickname"
    - Заполняем поле "Email"
    - Заполняем поле "Password"
    - Заполняем поле "Password Confirmation"
    - Нажимаем кнопку "Submit"
  expected-result: |
    Под полем "Email" появляется надпись "Invalid email"
    
- summary: |
    Неудачная регистрация нового профиля с уже зарегистрированным именем пользователя
  requirement: |
    При повторном использовании одного и того же имени пользователя регистрация невозможна 
  prerequisites: |
    Открыта страница регистрации
  test-data: |
    Nickname = QWERTY
  steps:
    - Заполняем поле "Nickname"
    - Заполняем поле "Email"
    - Заполняем поле "Password"
    - Заполняем поле "Password Confirmation"
    - Нажимаем кнопку "Submit"
  expected-result: |
    Под полем "Nickname" появляется надпись "Nickname is already taken"

- summary: |
    Неудачная регистрация нового профиля при ошибке в поле подтверждения пароля
  requirement: |
    При несовпадении паролей регистрация невозможна
  prerequisites: |
    Открыта страница регистрации
  test-data: |
    empty
  steps:
    - Заполняем поле "Nickname"
    - Заполняем поле "Email"
    - Заполняем поле "Password"
    - Заполняем поле "Password Confirmation" так, чтобы оно не совпадало с полем "Password"
    - Нажимаем кнопку "Submit"
  expected-result: |
    Под полем "Password Confirmation" появляется надпись "Passwords must match"

- summary: |
    Успешная авторизация существующего пользователя
  requirement: |
    При верном заполнении всех полей пользователь успешно авторизуется
  prerequisites: |
    Открыта страница авторизации
  test-data: |
    Email = asdf.asdfghj.05@mail.ru Пароль = 123456
  steps:
    - Заполняем поле "Email"
    - Заполняем поле "Password"
    - Нажимаем кнопку "Submit"
  expected-result: |
    Пользователь успешно авторизирован

- summary: |
    Неудачная авторизация несуществующего пользователя
  requirement: |
    При заполнении всех полей выдуманными данными авторизация невозможна
  prerequisites: |
    Открыта страница авторизации
  test-data: |
    empty
  steps:
    - Заполняем поле "Email"
    - Заполняем поле "Password"
    - Нажимаем кнопку "Submit"
  expected-result: |
    Авторизация не прошла, появляется надпись "EMAIL_NOT_FOUND"

- summary: |
    Востановление пароля
  requirement: |
    При утрате пароля его можно восстановить с помощью мейла
  prerequisites: |
    Открыта страница авторизации
  test-data: |
    empty
  steps:
    - Нажимаем кнопку "Forgot your password?"
    - Вводим мейл
    - Проверяем указанную почту
    - Переходим по ссылке в письме
    - Вводим новый пароль
    - Вводим мейл и новый пароль на страницу авторизации
  expected-result: |
    Авторизация прошла успешно

- summary: |
    Выбор уровня сложности игры
  requirement: |
    При смене уровня сложности меняется и список заданий
  prerequisites: |
    Открыта главная страница
  test-data: |
    empty
  steps:
    - Нажимаем на кнопку "Create a game"
    - Нажимаем кнопку с изображением двух звезд
  expected-result: |
    Количество вариантов игр в выпадающем списке меняется на 100

- summary: |
    Установка временного ограничения при создании игры
  requirement: |
    Пользователи-игроки должны справится с заданием за установленное время
  prerequisites: |
    Открыта главная страница
  test-data: |
    empty
  steps:
    - Нажимаем на кнопку "Create a game"
    - Нажимем кнопку "With a bot"
    - Устанавливаем временное ограничение 30 минут
    - Нажимем кнопку "Create the battle"
  expected-result: |
    На экране идет обратный отсчет, начиная с 30 минут

- summary: |
    Установка временного ограничения при создании игры
  requirement: |
    Пользователи-игроки должны справится с заданием за установленное время
  prerequisites: |
    Открыта главная страница
  test-data: |
    empty
  steps:
    - Нажимаем на кнопку "Create a game"
    - Нажимем кнопку "With a bot"
    - Устанавливаем временное ограничение 30 минут
    - Нажимем кнопку "Create the battle"
  expected-result: |
    На экране идет обратный отсчет, начиная с 30 минут

- summary: |
    Создание игры с ботом
  requirement: |
    Пользователи должны иметь возможность играть против бота
  prerequisites: |
    Открыта главная страница
  test-data: |
    empty
  steps:
    - Нажимаем на кнопку "Create a game"
    - Нажимем кнопку "With a bot"
    - Нажимем кнопку "Create the battle"
  expected-result: |
    Начинается игра против бота

- summary: |
    Создание приглашения для игры с другом
  requirement: |
    Пользователи должны иметь возможность приглашать конкретных пользователей в игру
  prerequisites: |
    Открыта главная страница
    Создан второй пользователь
  test-data: |
  steps:
    - Нажимаем на кнопку "Create a game"
    - Нажимем кнопку "With a friend"
    - Вписываем имя оппонента (второй пользователь)
    - Нажимем кнопку "Create invite"
  expected-result: |
    Оппонент получил приглашение на игру

- summary: |
    Принятие приглашения на игру с другом
  requirement: |
    Пользователи должны иметь возможность принимать высланное им приглашение на игру с другом
  prerequisites: |
    Открыта главная страница
    Создан второй пользователь
    Приглашение на игру отправлено второму пользователю
  test-data: |
    empty
  steps:
    - На другом устройстве параллельно заходим в профиль второго пользователя
    - Нажимаем на значок с двумя скрещенными мечами
    - Нажимаем на кнопку "Accept"
  expected-result: |
    Оба пользователя автоматически переносятся на страницу с игрой

- summary: |
    Отклонение приглашения на игру с другом
  requirement: |
    Пользователи должны иметь возможность отклонять высланное им приглашение на игру с другом
  prerequisites: |
    Открыта главная страница
    Создан второй пользователь
    Приглашение на игру отправлено второму пользователю
  test-data: |
    empty
  steps:
    - На другом устройстве параллельно заходим в профиль второго пользователя
    - Нажимаем на значок с двумя скрещенными мечами
    - Нажимаем на кнопку "Decline"
  expected-result: |
    Уведомление о приглашении пропадает у обоих пользователей

- summary: |
    Создание игры с другим пользователем
  requirement: |
    Пользователи должны иметь возможность создавать игры против других пользователей
  prerequisites: |
    Открыта главная страница
  test-data: |
    empty
  steps:
    - Нажимаем на кнопку "Create a game"
    - Нажимаем кнопку "With other user"
    - Нажимаем кнопку "Create battle"
  expected-result: |
    Игра отображается в списке на главной странице

- summary: |
    Удаление игры с другим пользователем с главной страницы
  requirement: |
    Пользователи должны иметь возможность удалять созданные игры против других пользователей с главной страницы
  prerequisites: |
    Открыта главная страница
  test-data: |
    empty
  steps:
    - Нажимаем на кнопку "Create a game"
    - Нажимаем кнопку "With other user"
    - Нажимаем кнопку "Create battle"
    - Нажимаем на значок крестика в строке с созданной игрой
  expected-result: |
    Игра исчезает из списка на главной странице

- summary: |
    Удаление игры с другим пользователем со страницы игры
  requirement: |
    Пользователи должны иметь возможность удалять созданные игры против других пользователей со страницы игры
  prerequisites: |
    Открыта главная страница
  test-data: |
    empty
  steps:
    - Нажимаем на кнопку "Create a game"
    - Нажимаем кнопку "With other user"
    - Нажимаем кнопку "Create battle"
    - Нажимаем кнопку "Continue"
    - Нажимаем кнопку "Cancel"
  expected-result: |
    Игра исчезает из списка на главной странице

- summary: |
    Копирование ссылки на созданную игру с другим пользователем с главной страницы
  requirement: |
    Пользователи должны иметь возможность копировать ссылку на созданную игру против других пользователей с главной страницы
  prerequisites: |
    Открыта главная страница
  test-data: |
    empty
  steps:
    - Нажимаем на кнопку "Create a game"
    - Нажимаем кнопку "With other user"
    - Нажимаем кнопку "Create battle"
    - Нажимаем на иконку копирования
  expected-result: |
    Ссылка на созданную игру скопирована

- summary: |
     Копирование ссылки на созданную игру с другим пользователем со страницы игры
  requirement: |
    Пользователи должны иметь возможность копировать ссылку на созданную игру против других пользователей со страницы игры
  prerequisites: |
    Открыта главная страница
  test-data: |
    empty
  steps:
    - Нажимаем на кнопку "Create a game"
    - Нажимаем кнопку "With other user"
    - Нажимаем кнопку "Create battle"
    - Нажимаем кнопку "Continue"
    - Нажимаем кнопку "Copy"
  expected-result: |
    Ссылка на созданную игру скопирована

- summary: |
     Отправка ссылки на созданную игру с другим пользователем
  requirement: |
    Пользователи должны иметь возможность отправлять ссылку на созданную игру против других пользователей
  prerequisites: |
    Открыта главная страница
    Создана игра с другим пользователем
    Создан второй пользователь
  test-data: |
    empty
  steps:
    - Копируем ссылку на игру
    - Отправляем ссылку второму пользователю
    - Открываем ссылку с аккаунта второго пользователя
    - Нажимаем кнопку "Join"
  expected-result: |
    Оба пользователя автоматически переносятся на страницу с игрой

- summary: |
    Фильтрация игр по тэгу
  requirement: |
    Пользователи должны иметь возможность фильтровать игры по тэгу
  prerequisites: |
    Открыта главная страница
  test-data: |
    empty
  steps:
    - Нажимаем на кнопку "Create a game"
    - Нажимаем на кнопку с изображением трех звезд
    - Выбираем тэг "math"
  expected-result: |
    Количество вариантов игр в выпадающем списке меняется на 19

- summary: |
    Фильтрация игр по нескольким тэгам
  requirement: |
    Пользователи должны иметь возможность фильтровать игры по нескольким тэгам
  prerequisites: |
    Открыта главная страница
  test-data: |
    empty
  steps:
    - Нажимаем на кнопку "Create a game"
    - Нажимаем на кнопку с изображением четырех звезд
    - Выбираем тэг "math"
    - Выбераем тэг "rest"
  expected-result: |
    Количество вариантов игр в выпадающем списке меняется на 3

- summary: |
    Рандомный выбор игры
  requirement: |
    Пользователи должны иметь возможность рандомно выбирать игру
  prerequisites: |
    Открыта главная страница
  test-data: |
    empty
  steps:
    - Нажимаем на кнопку "Create a game"
    - Нажимаем на кнопку с изображением четырех звезд
    - Нажимаем на кнопку "With a bot"
    - Из выпадающего списка оставляем "random task"
    - Нажимаем на кнопку "Create battle"
  expected-result: |
    Должна запуститься любая игра из списка, который относится к максимальному укровню сложности

- summary: |
    Выбор игры из выпадающего списка
  requirement: |
    Пользователи должны иметь возможность выбирать игру из выпадающего списка
  prerequisites: |
    Открыта главная страница
  test-data: |
    empty
  steps:
    - Нажимаем на кнопку "Create a game"
    - Нажимаем на кнопку с изображением четырех звезд
    - Нажимаем на кнопку "With a bot"
    - Из выпадающего списка выбираем "count_and_say"
    - Нажимаем на кнопку "Create battle"
  expected-result: |
    Должна запуститься игра "count_and_say"

- summary: |
    Соответствие настроек игры параметрам
  requirement: |
    При запуске игры все настройки должны соответствовать выбранным параметрам
  prerequisites: |
    Открыта главная страница
  test-data: |
    empty
  steps:
    - Нажимаем на кнопку "Create a game"
    - Нажимаем на кнопку с изображением двух звезд
    - Нажимаем на кнопку "With a bot"
    - Устанавливаем время на 30 минут
    - Из выпадающего списка выбираем "base_n"
    - Нажимаем на кнопку "Create battle"
  expected-result: |
    Должна запуститься игра "base_n" против бота с таймером на 30 минут

- summary: |
    Соответствие настроек игры параметрам в игре
  requirement: |
    При запуске игры все настройки должны соответствовать выбранным параметрам
  prerequisites: |
    Открыта главная страница
  test-data: |
    empty
  steps:
    - Нажимаем на кнопку "Create a game"
    - Нажимаем на кнопку с изображением двух звезд
    - Нажимаем на кнопку "With a bot"
    - Устанавливаем время на 30 минут
    - Из выпадающего списка выбираем "base_n"
    - Нажимаем на кнопку "Create battle"
  expected-result: |
    Должна запуститься игра "base_n" против бота с таймером на 30 минут

- summary: |
    Выбор языка программирования во время игры
  requirement: |
    Пользователи должны иметь возможность выбрать один из предложенных языков программирования
  prerequisites: |
    Создана и открыта игра против бота
  test-data: |
    empty
  steps:
    - Открыть выпадающий список с языками программирования
    - Выбрать "Java 21"
  expected-result: |
    Язык программирования сменился на Java

- summary: |
    Выбор языка программирования во время игры
  requirement: |
    Пользователи должны иметь возможность выбрать один из предложенных языков программирования
  prerequisites: |
    Создана и открыта игра против бота
  test-data: |
    empty
  steps:
    - Открыть выпадающий список с языками программирования
    - Выбрать "Java 21"
  expected-result: |
    Язык программирования сменился на Java

